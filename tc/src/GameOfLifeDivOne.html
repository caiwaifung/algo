<html><body bgcolor="#ffffcc" text="#000000"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>Cat Taro and Rabbit Hanako invented a new variation of <i>"Game Of Life"</i>.
<br></br>
<br></br>
N cells are arranged around a circle. The cells are numbered from 0 to N-1. For each i between 0 and N-2, inclusive, the i-th cell and the (i+1)-th cell are adjacent to each other. The (N-1)-th cell and the 0-th cell are adjacent to each other. Each cell has exactly two adjacent cells. Each cell has a state: "live" or "die".
<br></br>
<br></br>
Taro and Hanako can decide the states of the cells at time 0. For time t > 0, the states are determined as follows:
<ul>
<li>Consider three cells: the i-th cell and the two cells that are adjacent to the i-th cell.</li>
<li>If at least two of the three cells are "live" at time t-1, the state of the i-th cell at time t will be "live".</li>
<li>If at least two of the three cells are "die" at time t-1, the state of the i-th cell at time t will be "die".</li>
</ul>
You are given a string <b>init</b>. The number of cells in the game (N) is equal to the number of characters in <b>init</b>. The i-th character of <b>init</b> represents the state they assign to the i-th cell at time 0. '1' means "live", '0' means "die", and '?' means undecided. Return the number of ways they can assign states to the undecided cells such that at least <b>K</b> cells will be in the "live" state at time <b>T</b>.
</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>GameOfLifeDivOne</td></tr><tr><td>Method:</td><td>theCount</td></tr><tr><td>Parameters:</td><td>string, int, int</td></tr><tr><td>Returns:</td><td>long long</td></tr><tr><td>Method signature:</td><td>long long theCount(string init, int T, int K)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>init</b> will contain between 3 and 50 characters, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each character in <b>init</b> will be '0' (zero), '1' (one) or '?'.</td></tr><tr><td align="center" valign="top">-</td><td><b>T</b> will be between 0 and 1,000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>K</b> will be between 0 and the number of characters in <b>init</b>, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;0?1&quot;</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2">There are two ways to replace '?' with '0' and '1': "001" and "011".
<ul>
<li>If the state is "001" at time 0, the state will be "000" at time 1. No cell is in the "live" state.</li>
<li>If the state is "011" at time 0, the state will be "111" at time 1. 3 cells are in the "live" state.</li>
</ul>
Only the second one satisfies the condition, so the answer is 1.
</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;?????????&quot;</pre></td></tr><tr><td><pre>0</pre></td></tr><tr><td><pre>1</pre></td></tr></table></td></tr><tr><td><pre>Returns: 511</pre></td></tr><tr><td><table><tr><td colspan="2">There are 512 ways to replace '?' cells with '0' or '1'. All of them except "000000000" satisfy the condition.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;??0???????&quot;</pre></td></tr><tr><td><pre>58</pre></td></tr><tr><td><pre>6</pre></td></tr></table></td></tr><tr><td><pre>Returns: 151</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;?????????1&quot;</pre></td></tr><tr><td><pre>47</pre></td></tr><tr><td><pre>3</pre></td></tr></table></td></tr><tr><td><pre>Returns: 453</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;?????????1???0???1??1??????0??????0??0????1???????&quot;</pre></td></tr><tr><td><pre>12</pre></td></tr><tr><td><pre>40</pre></td></tr></table></td></tr><tr><td><pre>Returns: 31577324313</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
