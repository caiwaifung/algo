<html><body bgcolor="#ffffcc" text="#000000"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>Fox Ciel likes sequences of integers. She especially likes sequences which she considers to be <i>beautiful</i>. A sequence (A[0], A[1], ..., A[N-1]), N &gt;= 1, is beautiful if and only if it satisfies the following conditions:</p>
<ul>
<li>Each element of the sequence is an integer between 0 and 40, inclusive.</li>
<li>Each element of the sequence is less than or equal to the arithmetic mean of the previous elements. That is, for each i, 1 &lt;= i &lt; N, we have A[i] &lt;= (A[0] + A[1] + ... + A[i-1]) / i.</li>
<li>There are no three consecutive elements in the sequence that follow in strictly decreasing order. In other words, there must be no index i, 0 &lt;= i &lt; N-2, such that A[i] &gt; A[i+1] &gt; A[i+2].</li>
</ul>
<p>You are given a vector &lt;int&gt; <b>seq</b> that describes some sequences. Each element in seq is between -1 and 40, inclusive. You can change each occurrence of -1 in seq into an arbitrary integer between 0 and 40, inclusive. Different occurrences can be changed into different integers.</p>
<br></br>
<p>Return the number of different beautiful sequences that can be obtained in this way, modulo 1,000,000,007.</p>
</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>FoxAverageSequence</td></tr><tr><td>Method:</td><td>theCount</td></tr><tr><td>Parameters:</td><td>vector &lt;int&gt;</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int theCount(vector &lt;int&gt; seq)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>Two sequences of the same length are different if there is at least one position at which their elements are different.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>seq</b> will contain between 1 and 40 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>seq</b> seq will be between -1 and 40, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{3, -1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 4</pre></td></tr><tr><td><table><tr><td colspan="2">{3, 0}, {3, 1}, {3, 2} and {3, 3} are valid sequences.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{5, 3, -1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2</pre></td></tr><tr><td><table><tr><td colspan="2">{5, 3, 3} and {5, 3, 4} are valid sequences.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{-1, 0, 40}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2">There are no valid sequences.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{-1, 40, -1, -1, -1, 10, -1, -1, -1, 21, -1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 579347890</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{-1, 12, 25, 0, 18, -1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 58</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
