<html><body bgcolor="#ffffcc" text="#000000"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>Fox Ciel has a map of some underground ruins. It describes the position of several jewels and their values. She wants to collect some of the jewels. The map is a rectangle with width <b>W</b> and height <b>H</b>. It contains <b>W</b>*<b>H</b> cells. The cell in the upper left corner has the coordinates (0,0) and the cell in the lower right corner has coordinates (<b>W</b>-1,<b>H</b>-1). There are <b>jewelCount</b> jewels. The i-th jewel is located at coordinates (x[i],y[i]) and has a value of v[i]. 0, 1, 2 or more jewels may be in the same cell.</p>
<br></br>
<p>Ciel starts from any cell in the top row (any cell whose y-coordinate is 0 and x-coordinate is arbitrary). She has a super drill so she can move down any number of times, but she can move to the left or right at most <b>LR</b> times. Moving up is not allowed. She collects all the jewels in a cell by moving to that cell (or starting in that cell). Moving down takes <b>timeY</b> seconds and moving left or right takes <b>timeX</b> seconds. Collecting jewels takes no time.</p>
<br></br>
<p>Calculate and return the minimum time required to collect enough jewels so that the sum of the values of the collected jewels is greater than or equal to <b>goalValue</b>. If she can't collect enough jewels then return -1.</p>
<br></br>
<p>You can calculate x[i], y[i], and v[i] as follows:</p>
<pre>
    x[0] = (<b>seeds</b>[1] * <b>seeds</b>[0] + <b>seeds</b>[2]) mod <b>W</b>
    y[0] = (<b>seeds</b>[4] * <b>seeds</b>[3] + <b>seeds</b>[5]) mod <b>H</b>
    v[0] = (<b>seeds</b>[7] * <b>seeds</b>[6] + <b>seeds</b>[8]) mod <b>seeds</b>[9]
    for i=1 to <b>jewelCount</b>-1:
        x[i] = (<b>seeds</b>[1] * x[i-1] + <b>seeds</b>[2]) mod <b>W</b>
        y[i] = (<b>seeds</b>[4] * y[i-1] + <b>seeds</b>[5]) mod <b>H</b>
        v[i] = (<b>seeds</b>[7] * v[i-1] + <b>seeds</b>[8]) mod <b>seeds</b>[9]
</pre>
</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>FoxSearchingRuins</td></tr><tr><td>Method:</td><td>theMinTime</td></tr><tr><td>Parameters:</td><td>int, int, int, int, int, int, int, vector &lt;int&gt;</td></tr><tr><td>Returns:</td><td>long long</td></tr><tr><td>Method signature:</td><td>long long theMinTime(int W, int H, int jewelCount, int LR, int goalValue, int timeX, int timeY, vector &lt;int&gt; seeds)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>W</b> will be between 1 and 1,000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>H</b> will be between 1 and 1,000,000,000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>jewelCount</b> will be between 1 and 1,000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>LR</b> will be between 0 and 1,000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>timeX</b> and <b>timeY</b> will each be between 1 and 100, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>goalValue</b> will be between 1 and 1,000,000,000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>seeds</b> will contain exactly 10 elements.</td></tr><tr><td align="center" valign="top">-</td><td>for i=0..8, <b>seeds</b>[i] will be between 0 and 1,000,000,000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>seeds</b>[9] will be between 2 and 1,000,000, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>5</pre></td></tr><tr><td><pre>8</pre></td></tr><tr><td><pre>5</pre></td></tr><tr><td><pre>7</pre></td></tr><tr><td><pre>10</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>{979, 777, 878, 646, 441, 545, 789, 896, 987, 10}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 5</pre></td></tr><tr><td><table><tr><td colspan="2">The map of the ruins is as follows:
<pre>
3....
...5.
....7
.9...
.....
.....
.....
.1...
</pre>

Ciel's optimal moves:
<ol>
<li>Start from (3, 0). (time = 0)</li>
<li>Move to (3, 1) and collect the jewel whose value is 5. (time = 1)</li>
<li>Move to (4, 1). (time = 4)</li>
<li>Move to (4, 2) and collect the jewel whose value is 7. (time = 5)</li>
</ol></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>7</pre></td></tr><tr><td><pre>8</pre></td></tr><tr><td><pre>10</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>10</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>10</pre></td></tr><tr><td><pre>{0, 1, 1, 0, 1, 3, 1011, 3033, 2022, 10}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 29</pre></td></tr><tr><td><table><tr><td colspan="2">The map and Ciel's optimal moves:
<pre>
.1..... ...*...
...3... ...*...
......7 ...****
.55.... .......
....1.. .......
3...... .......
..77... .......
.....5. .......
</pre></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>7</pre></td></tr><tr><td><pre>8</pre></td></tr><tr><td><pre>10</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>14</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>10</pre></td></tr><tr><td><pre>{0, 1, 1, 0, 1, 3, 1011, 3033, 2022, 10}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 59</pre></td></tr><tr><td><table><tr><td colspan="2">Note that Ciel can move left or right at most 3 times.
<pre>
.1..... ...*...
...3... ...*...
......7 ...*...
.55.... .***...
....1.. .*.....
3...... **.....
..77... .......
.....5. .......
</pre></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>7</pre></td></tr><tr><td><pre>8</pre></td></tr><tr><td><pre>10</pre></td></tr><tr><td><pre>4</pre></td></tr><tr><td><pre>14</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>10</pre></td></tr><tr><td><pre>{0, 1, 1, 0, 1, 3, 1011, 3033, 2022, 10}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 42</pre></td></tr><tr><td><table><tr><td colspan="2">Now Ciel can move left or right at most 4 times.
<pre>
.1..... .***...
...3... ...*...
......7 ...*...
.55.... .***...
....1.. .......
3...... .......
..77... .......
.....5. .......
</pre></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>497</pre></td></tr><tr><td><pre>503</pre></td></tr><tr><td><pre>989</pre></td></tr><tr><td><pre>647</pre></td></tr><tr><td><pre>100000</pre></td></tr><tr><td><pre>13</pre></td></tr><tr><td><pre>14</pre></td></tr><tr><td><pre>{7613497, 5316789, 1334537, 2217889, 6349551, 978463, 1234567, 2345678, 3456789, 1000}</pre></td></tr></table></td></tr><tr><td><pre>Returns: -1</pre></td></tr><tr><td><table><tr><td colspan="2">Watch out for integer overflow when computing x[i], y[i] and v[i].</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1000</pre></td></tr><tr><td><pre>749613275</pre></td></tr><tr><td><pre>1000</pre></td></tr><tr><td><pre>1000</pre></td></tr><tr><td><pre>7500000</pre></td></tr><tr><td><pre>97</pre></td></tr><tr><td><pre>6</pre></td></tr><tr><td><pre>{224284427, 617001937, 294074399, 606566321, 202762619, 419798101, 200613401, 640663967, 417565817, 170000}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3780225876</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
