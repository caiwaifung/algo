<html><body bgcolor="#ffffcc" text="#000000"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>Hero is inviting his friends to the party.</p>
<p>He has n friends, numbered 0 through n-1.
For each of his friends there is at most one other person the friend dislikes.
You are given this information as a vector &lt;int&gt; <b>a</b> with n elements.
For each i, <b>a</b>[i] is either the number of the person disliked by friend i, we have <b>a</b>[i]=i if friend i likes everybody else.</p>
<p></p>
<p>Hero is inviting his friends one at a time.
Whenever he invites friend i, they will accept if and only if the friend <b>a</b>[i] didn't accept an earlier invitation.
(That includes two cases: either Hero didn't invite friend <b>a</b>[i] yet, or he did but the friend rejected the invitation.)</p>
<p></p>
<p>Hero noticed that the order in which he invites his friends matters: different orders may produce different numbers of accepted invitations.
He thought about finding the best order but the task was too hard for him.
Therefore he has decided that he will invite his friends in a randomly chosen order.
(Each permutation of his friends is equally likely to be chosen.)</p>

<p>Return the expected number of friends that will accept Hero's invitation.</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>Privateparty</td></tr><tr><td>Method:</td><td>getexp</td></tr><tr><td>Parameters:</td><td>vector &lt;int&gt;</td></tr><tr><td>Returns:</td><td>double</td></tr><tr><td>Method signature:</td><td>double getexp(vector &lt;int&gt; a)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr><tr><td>Stack limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>Your solution is correct if the absolute error or the relative error is at most 10^-9.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>a</b> will contain exactly n elements.</td></tr><tr><td align="center" valign="top">-</td><td>n will be between 1 and 50, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>a</b> will be between 0 and n - 1, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2.0</pre></td></tr><tr><td><table><tr><td colspan="2">There are two friends.
As <b>a</b>[0]=0 and <b>a</b>[1]=1, each friend likes the other.
Regardless of the order of invitations, both will always accept.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,0}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1.5</pre></td></tr><tr><td><table><tr><td colspan="2">In this test case friend 1 dislikes friend 0.
If Hero invites 0 first and 1 next, 0 will accept and then 1 will reject.
If Hero invites 1 first and 0 next, 1 will accept (as 0 didn't accept yet) and then 0 will accept as well (because he likes 1).</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,1,1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2.5</pre></td></tr><tr><td><table><tr><td colspan="2"><p>Now there are three friends.
Friend 0 likes everybody else, friend 1 likes everybody else, and friend 2 dislikes friend 1.</p>
<p>Given three friends, there are six possible orders.
Hero will choose one of these orders uniformly at random.</p>
<p>For example, if he invites them in the order (1,0,2), friend 1 will accept, friend 0 will accept, and friend 2 will reject the invitation.
However, if he invites them in the order (2,1,0), all three friends will accept the invite.</p></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,1,1,2}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3.166666666666667</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{3,2,1,0}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2.0</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
