<html><body bgcolor="#ccffcc" text="#000000"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>
Correct parentheses sequences can be defined recursively as follows:
<ul>
<li>The empty string "" is a correct sequence.</li>
<li>If "X" and "Y" are correct sequences, then "XY" (the concatenation of X and Y) is a correct sequence.</li>
<li>If "X" is a correct sequence, then "(X)" is a correct sequence.</li>
<li>Each correct parentheses sequence can be derived using the above rules.</li>
</ul>
</p>

<p>
Examples of correct parentheses sequences include "", "()", "()()()", "(()())", and "(((())))".
</p>

<p>
You are given a string <b>s</b> that is guaranteed to be a correct parentheses sequence.
A removal is an action that consists of two steps:
<ol>
<li>Remove the first opening parenthesis in <b>s</b>.</li>
<li>Remove one closing parenthesis in <b>s</b>. After you do so, <b>s</b> must again be a correct parentheses sequence.</li>
</ol>
</p>

<p>
Compute and return the number of distinct ways in which <b>s</b> can be reduced to an empty string by performing consecutive removals, modulo 10^9+7.
Two ways are considered distinct if there is a step in which you remove a different closing parenthesis.
(See Example 1 for clarification.)
</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>ParenthesisRemoval</td></tr><tr><td>Method:</td><td>countWays</td></tr><tr><td>Parameters:</td><td>string</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int countWays(string s)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr><tr><td>Stack limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>s</b> will have between 2 and 2,500 characters, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>s</b> will be a correct parentheses sequence.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;()()()()()&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2">In each removal we have to choose the leftmost closing parenthesis.
</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;(((())))&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: 24</pre></td></tr><tr><td><table><tr><td colspan="2">In each removal we can choose any closing parenthesis we want.
Note that these count as distint choices, even though all choices lead to the same string.
Thus, there are 4*3*2*1 = 24 different sequences of removals that change <b>s</b> into an empty string.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;((()()()))&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: 54</pre></td></tr><tr><td><table><tr><td colspan="2">Below is one of the 54 possible sequences of removals.
Remember that in each step we also remove the first opening parenthesis.

<ul>
<li> Remove the fourth closing parenthesis: "(()()())" </li>
<li> Remove the second closing parenthesis: "()(())" </li>
<li> Remove the first closing parenthesis: "(())" </li>
<li> Remove the second closing parenthesis: "()" </li>
<li> Remove the first closing parenthesis: "" </li>
</ul></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;(())(())(())&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: 8</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;((((())((((((((((()((((((()))))())))))()))))))))))&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: 948334170</pre></td></tr><tr><td><table><tr><td colspan="2">Don't forget about the mod.</td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
