<html><body bgcolor="#ffffcc" text="#000000"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>The Grid Kingdom lies on a plane. There are N cities and M villages in the Grid Kingdom, each is a point on the plane. The i-th city is located at coordinates (<b>cityX</b>[i], <b>cityY</b>[i]) and the i-th village is located at coordinates (<b>villageX</b>[i], <b>villageY</b>[i]). Initially, there are no roads in the kingdom, so no village is initially connected to any city.  
<br></br><br></br>
To improve this, the king has ordered that each village shall be connected to a city by a system of roads. The scheme for building the roads is as follows: 
<br></br><br></br>
While there exists a village that is not connected to any city:
<ol>
<li>Pick one unconnected village (each has an equal probability of being chosen), call it V.</li>
<li>Select a point, X, which is nearest to V, in terms of Euclidean Distance, and is either a city or a village-that-is-already-connected-to-a-city. If multiple such points are equally near, pick any of the nearest points with equal probability.</li>
<li>Construct a road from V to X. The length of this road is equal to the Euclidean Distance between points V and X. V is now connected to a city.</li>
</ol>
Return the expected total length of all the roads that will be constructed after all villages are connected to a city.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>KingdomXCitiesandVillages</td></tr><tr><td>Method:</td><td>determineLength</td></tr><tr><td>Parameters:</td><td>vector &lt;int&gt;, vector &lt;int&gt;, vector &lt;int&gt;, vector &lt;int&gt;</td></tr><tr><td>Returns:</td><td>double</td></tr><tr><td>Method signature:</td><td>double determineLength(vector &lt;int&gt; cityX, vector &lt;int&gt; cityY, vector &lt;int&gt; villageX, vector &lt;int&gt; villageY)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>The Euclidean distance between two points (X1, Y1) and (X2, Y2) is defined as the square root of ((X1-X2)^2 + (Y1-Y2)^2).</td></tr><tr><td align="center" valign="top">-</td><td>The returned value must have an absolute or relative error less than 1e-9.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>cityX</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>cityY</b> will contain the same number of elements as <b>cityX</b>.</td></tr><tr><td align="center" valign="top">-</td><td>Each element in <b>cityX</b> and <b>cityY</b> will be between 0 and 1,000,000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>villageX</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>villageY</b> will contain the same number of elements as <b>villageX</b>.</td></tr><tr><td align="center" valign="top">-</td><td>Each element in <b>villageX</b> and <b>villageY</b> will be between 0 and 1,000,000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>The location of all cities will be distinct.</td></tr><tr><td align="center" valign="top">-</td><td>The location of all villages will be distinct.</td></tr><tr><td align="center" valign="top">-</td><td>There will be no pair of city and village that is located at the same location.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{3}</pre></td></tr><tr><td><pre>{0}</pre></td></tr><tr><td><pre>{3,3}</pre></td></tr><tr><td><pre>{2,1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2.5</pre></td></tr><tr><td><table><tr><td colspan="2">If village 0 is chosen first, the total length is 3. Otherwise it's 2. The expected length is their average.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1,4,7,10}</pre></td></tr><tr><td><pre>{5,5,5,5}</pre></td></tr><tr><td><pre>{1,4,7,10}</pre></td></tr><tr><td><pre>{4,4,4,4}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 4.0</pre></td></tr><tr><td><table><tr><td colspan="2">This time the order doesn't matter, each village will be connected to the city closest to it.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1,2,3}</pre></td></tr><tr><td><pre>{4,4,4}</pre></td></tr><tr><td><pre>{4,5,6}</pre></td></tr><tr><td><pre>{4,4,4}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 4.166666666666667</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
