<html><body bgcolor="#cccccc" text="#000000"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>
Consider an undirected, complete, simple graph G on <b>n</b> vertices.
The vertices of G are labeled from 1 to <b>n</b>.
Specifically, each pair of distinct vertices is connected by a single undirected edge, so there are precisely <b>n</b>*(<b>n</b>-1)/2 edges in this graph.
</p>
<br></br>

<p>
You are given a set E that contains some edges of the graph G.
More precisely, you are given the vector &lt;int&gt;s <b>x</b> and <b>y</b>.
For each valid i, (<b>x</b>[i], <b>y</b>[i]) is one of the edges in E.
</p>
<br></br>

<p>
A spanning tree of G is a subset of exactly <b>n</b>-1 edges of G such that the edges connect all <b>n</b> vertices.
You may note that the edges of a spanning tree do indeed form a tree that is a subgraph of G and spans all its vertices.
</p>
<br></br>

<p>
We are interested in spanning trees that contain all of the edges in the provided set E.
Compute and return the number of such spanning trees modulo 987,654,323.
Two spanning trees are different if there is an edge of G that is in one of them but not in the other.
</p>
</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>BuildingSpanningTreesDiv1</td></tr><tr><td>Method:</td><td>getNumberOfSpanningTrees</td></tr><tr><td>Parameters:</td><td>int, vector &lt;int&gt;, vector &lt;int&gt;</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int getNumberOfSpanningTrees(int n, vector &lt;int&gt; x, vector &lt;int&gt; y)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td>987,654,323 is a prime number.</td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>n</b> will be between 1 and 1,000, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>x</b> will contain between 1 and 1,000 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>y</b> will contain between 1 and 1,000 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>x</b> and <b>y</b> will contain the same number of elements.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>x</b> will be between 1 and <b>n</b>-1, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>y</b> will be between 2 and <b>n</b>, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>For each valid i, <b>x</b>[i] will be less than <b>y</b>[i].</td></tr><tr><td align="center" valign="top">-</td><td>All edges in E will be distinct.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>3</pre></td></tr><tr><td><pre>{1,2}</pre></td></tr><tr><td><pre>{2,3}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2">The edges in the provided set E alredy form a spanning tree, so there is exactly one spanning tree that contains them.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>5</pre></td></tr><tr><td><pre>{1,3,4}</pre></td></tr><tr><td><pre>{2,4,5}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 6</pre></td></tr><tr><td><table><tr><td colspan="2">There are six ways to add the one missing edge: one endpoint of the new edge must lie in the set {1,2} and the other in the set {3,4,5}.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>4</pre></td></tr><tr><td><pre>{1}</pre></td></tr><tr><td><pre>{2}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 8</pre></td></tr><tr><td><table><tr><td colspan="2">There are eight spanning trees that contain the edge (1, 2):
<pre>
{(1, 2), (1, 3), (1, 4)}
{(1, 2), (1, 3), (2, 4)}
{(1, 2), (1, 3), (3, 4)}
{(1, 2), (2, 3), (2, 4)}
{(1, 2), (1, 4), (2, 3)}
{(1, 2), (1, 4), (3, 4)}
{(1, 2), (2, 3), (3, 4)}
{(1, 2), (2, 4), (3, 4)}
</pre>
</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>4</pre></td></tr><tr><td><pre>{1,2,1}</pre></td></tr><tr><td><pre>{2,3,3}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2">The set E contains a cycle, and thus there is no spanning tree that contains all these edges.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>8</pre></td></tr><tr><td><pre>{1,4,2,3,5}</pre></td></tr><tr><td><pre>{4,7,6,5,8}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 144</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>1000</pre></td></tr><tr><td><pre>{1}</pre></td></tr><tr><td><pre>{2}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 529013784</pre></td></tr><tr><td><table><tr><td colspan="2">Don't forget to take the modulo.
</td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
