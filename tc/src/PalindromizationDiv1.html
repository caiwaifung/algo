<html><body bgcolor="#ffffcc" text="#000000"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>Little Arthur loves palindromes. A palindrome is a word that reads the same both forwards and backwards. For example, the words "racecar", "noon", and "w" are palindromes, but the words "computer", "moon", and "oh" are not.
<br></br><br></br>
Arthur is given a word <b>word</b> and he would like to transform it into a palindrome. There are three types of operations he can perform:
<br></br><br></br>
<ul>
<li>add a letter at any position in the word (possibly at the beginning or end);</li>
<li>erase a letter;</li>
<li>change one letter to another.</li>
</ul>
<br></br>
However, each operation can be performed only with certain letters. For example, Arthur could be allowed to erase 'a', add 'b', and change 'c' to 'd'; no other operation would be allowed. Furthermore, nothing in this world is for free and operations with letters is not an exception - each operation Arthur can perform has a certain cost.
<br></br><br></br>
The descriptions of the allowed operations and their costs are given as vector &lt;string&gt; <b>operations</b>. Each element of <b>operations</b> is in one of the following forms (all quotes for clarity):
<ul>
<li>"add c x" where c is a letter and x is a positive integer meaning that it is allowed to add a letter c and it costs x dollars;</li>
<li>"erase c x" where c is a letter and x is a positive integer meaning that it is allowed to erase letter c and it costs x dollars;</li>
<li>"change c<sub>1</sub> c<sub>2</sub> x" where c<sub>1</sub> and c<sub>2</sub> are letters and x is a positive integer meaning that it is allowed to change letter c<sub>1</sub> to c<sub>2</sub> and it costs x dollars.</li>
</ul>
Note that "change c<sub>1</sub> c<sub>2</sub> x" does not allow to change letter c<sub>2</sub> to c<sub>1</sub>.
<br></br><br></br>
Little Arthur would like to transform <b>word</b> into a palindrome spending the least amount of money. Given <b>word</b> and <b>operations</b> return the minimum number of dollars Arthur needs to create a palindrome. Return -1 if it is impossible.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>PalindromizationDiv1</td></tr><tr><td>Method:</td><td>getMinimumCost</td></tr><tr><td>Parameters:</td><td>string, vector &lt;string&gt;</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int getMinimumCost(string word, vector &lt;string&gt; operations)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>word</b> will contain between 1 and 50 characters, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each character in <b>word</b> will be a lowercase letter 'a'-'z'.</td></tr><tr><td align="center" valign="top">-</td><td><b>operations</b> will contain between 0 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>operations</b> will be exactly in the form "add c x", "erase c x", or "change c<sub>1</sub> c<sub>2</sub> x" (quotes for clarity) where c, c<sub>1</sub>, c<sub>2</sub> are single lowercase letters 'a'-'z' and x is an integer between 1 and 100000, inclusive, with no leading zeros.</td></tr><tr><td align="center" valign="top">-</td><td>In each operation in form "change c<sub>1</sub> c<sub>2</sub> x", c<sub>1</sub> and c<sub>2</sub> will be different. </td></tr><tr><td align="center" valign="top">-</td><td>All elements of <b>operations</b> will represent different operations, i.e., all elements of <b>operations</b> without the cost part ("add c", "erase c", or "change c<sub>1</sub> c<sub>2</sub>") will be distinct.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;racecar&quot;</pre></td></tr><tr><td><pre>{}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2">No&nbsp;operations&nbsp;are&nbsp;allowed&nbsp;but&nbsp;the&nbsp;given&nbsp;word&nbsp;is&nbsp;already&nbsp;a&nbsp;palindrome.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;topcoder&quot;</pre></td></tr><tr><td><pre>{&quot;erase t 1&quot;, &quot;erase o 1&quot;, &quot;erase p 1&quot;, &quot;erase c 1&quot;, &quot;erase d 1&quot;, &quot;erase e 1&quot;, &quot;erase r 1&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 5</pre></td></tr><tr><td><table><tr><td colspan="2">Here it is allowed to erase any letter present in <b>word</b> and the cost of each such operation is 1 dollar. Thus, Arthur would like to obtain the longest possible palindrome. Two possible variants to erase only 5 letters result in palindromes "opo" and "oco".</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;topcoder&quot;</pre></td></tr><tr><td><pre>{&quot;erase t 10&quot;, &quot;erase o 1&quot;, &quot;erase p 1&quot;, &quot;erase c 1&quot;, &quot;erase d 1&quot;, &quot;erase e 1&quot;, &quot;erase r 1&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 7</pre></td></tr><tr><td><table><tr><td colspan="2">The same situation as previously except erasing letter 't' now costs 10. Because of that it is no longer optimal to obtain the longest possible palindrome.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;caaaaaab&quot;</pre></td></tr><tr><td><pre>{&quot;change b a 100000&quot;, &quot;change c a 100000&quot;, &quot;change c d 50000&quot;, &quot;change b e 50000&quot;, &quot;erase d 50000&quot;, &quot;erase e 49999&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 199999</pre></td></tr><tr><td><table><tr><td colspan="2">One way to palindromize "caaaaaab" is to change letters 'c' and 'b' to 'a's right away obtaining "aaaaaaaa". This would cost 200000.
<br></br>
However, a slightly cheaper way is to perform the following sequence of operations:
<br></br>
<ul>
<li>"caaaaaab" - change 'c' to 'd' (costs 50000)</li>
<li>"daaaaaab" - change 'b' to 'e' (costs 50000)</li>
<li>"daaaaaae" - erase 'd' (costs 50000)</li>
<li>"aaaaaae" - erase 'e' (costs 49999)</li>
<li>"aaaaaa"</li>
</ul>
This palindromization will cost 199999 in total. </td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;moon&quot;</pre></td></tr><tr><td><pre>{&quot;erase o 5&quot;, &quot;add u 7&quot;, &quot;change d p 3&quot;, &quot;change m s 12&quot;, &quot;change n d 6&quot;, &quot;change s l 1&quot;}</pre></td></tr></table></td></tr><tr><td><pre>Returns: -1</pre></td></tr><tr><td><table><tr><td colspan="2">Many words can be constructed here (e.g., "moon", "mood", "mud", "soon", "sun", "loop"), however, no palindrome is obtainable.</td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
